{# ========================================
   SECTION 1 : ANALYSE DE L'ERREUR
   ======================================== #}

‚ö†Ô∏è ATTENTION : Votre pr√©c√©dente traduction contenait un nombre INCORRECT de s√©parateurs `</>`.

Tu es un traducteur professionnel. Ta t√¢che pr√©c√©dente a √©chou√© car tu n'as pas respect√© la structure du texte original.

---

## üìä ANALYSE DE L'ERREUR

**Texte original** :
{{ original_text }}

**Ta traduction INCORRECTE** :
{{ incorrect_translation }}

‚ùå **ERREUR D√âTECT√âE** :
- S√©parateurs `</>` attendus : {{ expected_separators }}
- S√©parateurs `</>` dans ta traduction : {{ actual_separators }}

{% if expected_separators == 0 %}
üí° Le texte original est **CONTINU** (aucun s√©parateur). Tu as ajout√© des `</>` par erreur.
{% elif actual_separators == 0 %}
üí° Le texte original contient **{{ expected_separators }} s√©parateur(s)**, mais ta traduction n'en contient aucun.
{% elif actual_separators > expected_separators %}
üí° Tu as ajout√© **trop de s√©parateurs** ({{ actual_separators - expected_separators }} en trop).
{% else %}
üí° Il te manque **{{ expected_separators - actual_separators }} s√©parateur(s)**.
{% endif %}

---

{# ========================================
   SECTION 2 : R√àGLES √Ä RESPECTER
   ======================================== #}

{% if expected_separators == 0 %}
## ‚úÖ R√àGLE : Texte CONTINU (AUCUN s√©parateur)

Le texte original **ne contient AUCUN s√©parateur `</>`**.

Ta traduction doit √™tre **UN SEUL BLOC** de texte fluide, sans `</>`.

‚ö†Ô∏è **INTERDIT** :
- Ajouter des `</>` dans la traduction
- Couper le texte en plusieurs parties

‚úÖ **AUTORIS√â** :
- Traduire comme une phrase compl√®te et fluide
- Utiliser la ponctuation normale (virgules, points, guillemets)

{% else %}
## ‚úÖ R√àGLE : Texte avec {{ expected_separators }} s√©parateur(s) `</>`

Le texte original contient **EXACTEMENT {{ expected_separators }} s√©parateur(s) `</>`**.

Tu dois **conserver EXACTEMENT ces s√©parateurs** aux m√™mes positions relatives.

‚ö†Ô∏è **Position des s√©parateurs** :

{{ original_text | replace('</>', ' [</>] ') }}

Tu dois :
1. Traduire chaque partie s√©par√©ment
2. Remettre les s√©parateurs `</>` aux m√™mes endroits
3. Ne pas ajouter ou supprimer de s√©parateurs

{% endif %}

---

{# ========================================
   SECTION 3 : EXEMPLES
   ======================================== #}

## üí° Exemples

{% if expected_separators == 0 %}
**Exemple CORRECT (texte continu)** :
```txt
Ceci est une phrase compl√®te traduite sans aucun s√©parateur, avec une ponctuation normale.
[=[END]=]
```

**Exemple INCORRECT (s√©parateurs ajout√©s par erreur)** :
```txt
Ceci est</>une phrase</>traduite incorrectement.
[=[END]=]
```

{% else %}
**Exemple CORRECT (avec s√©parateurs)** :
```txt
Premier fragment</>Deuxi√®me fragment</>Troisi√®me fragment
[=[END]=]
```

**Exemple INCORRECT (s√©parateurs d√©plac√©s/supprim√©s)** :
```txt
Premier fragment Deuxi√®me fragment</>Troisi√®me fragment
[=[END]=]
```

{% endif %}

---

{# ========================================
   SECTION 4 : RE-TRADUCTION DEMAND√âE
   ======================================== #}

## üîÑ RE-TRADUCTION DEMAND√âE

Re-traduis le texte en {{ target_language }} en respectant STRICTEMENT la structure.

{% if expected_separators == 0 %}
**Nombre de s√©parateurs `</>` requis** : AUCUN (texte continu)
{% else %}
**Nombre de s√©parateurs `</>` requis** : EXACTEMENT {{ expected_separators }}
{% endif %}

**Texte √† re-traduire** :

{{ original_text }}

---

{# ========================================
   SECTION 5 : CHECKLIST
   ======================================== #}

## ‚úÖ CHECKLIST AVANT DE R√âPONDRE

{% if expected_separators == 0 %}
- [ ] Ma traduction ne contient AUCUN caract√®re `</>`
- [ ] C'est un texte continu, fluide, sans coupures artificielles
- [ ] J'utilise seulement la ponctuation normale (virgules, points, etc.)
{% else %}
- [ ] Ma traduction contient EXACTEMENT {{ expected_separators }} s√©parateur(s) `</>`
- [ ] Les s√©parateurs sont aux m√™mes positions relatives que l'original
- [ ] Chaque partie entre s√©parateurs est traduite correctement
- [ ] Je n'ai ni ajout√© ni supprim√© de s√©parateurs
{% endif %}
- [ ] Je termine par `[=[END]=]`

---

Corrige la traduction incorrecte maintenant :
